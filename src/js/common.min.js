$(document).ready(function(){$(".aside__toggle").on("click",function(){$(this).hasClass("aside__toggle-active")?($(this).blur().removeClass("aside__toggle-active"),$("#aside").removeClass("aside-open"),$(".aside__overlay").fadeOut()):($(this).blur().addClass("aside__toggle-active"),$("#aside").addClass("aside-open"),$(".aside__overlay").fadeIn())}),$(".aside__overlay").on("click",function(){$(".aside__toggle-active").removeClass("aside__toggle-active").addClass("aside__toggle-passive"),$("#aside").removeClass("aside-open"),$(".aside__overlay").fadeOut()}),$(".btn").on("click",function(){$(this).blur()}),$(".about__slider").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,appendArrows:".about__nav",prevArrow:'<button type="button" class="slick-prev slick-arrow"><span class="icon-arrow-left"></span></button>',nextArrow:'<button type="button" class="slick-next slick-arrow"><span class="icon-arrow-right"></span></button>'}),$(".poster__slider").slick({infinite:!0,slidesToShow:2,slidesToScroll:1,appendArrows:".poster__nav",prevArrow:'<button type="button" class="slick-prev slick-arrow"><span class="icon-arrow-left"></span></button>',nextArrow:'<button type="button" class="slick-next slick-arrow"><span class="icon-arrow-right"></span></button>'}),$(".reviews__slider").slick({infinite:!0,slidesToShow:3,slidesToScroll:1,appendArrows:".reviews__nav",prevArrow:'<button type="button" class="slick-prev slick-arrow"><span class="icon-arrow-left"></span></button>',nextArrow:'<button type="button" class="slick-next slick-arrow"><span class="icon-arrow-right"></span></button>',responsive:[{breakpoint:640,settings:{slidesToShow:2}},{breakpoint:425,settings:{slidesToShow:1}}]}),$("#panorama").panorama_viewer()}),function(l){function s(e){var s=e.changedTouches[0],n="";switch(e.type){case"touchstart":n="mousedown";break;case"touchmove":n="mousemove";break;case"touchend":n="mouseup";break;default:return}var t=document.createEvent("MouseEvent"),o=2;navigator.userAgent.match(/Android/i)&&(o=10),t.initMouseEvent(n,!0,!0,window,1,s.screenX,s.screenY,s.clientX*o,s.clientY*o,!1,!1,!1,!1,0,null),s.target.dispatchEvent(t)}l.fn.panorama_viewer=function(e){return document.addEventListener("touchstart",s,!0),document.addEventListener("touchmove",s,!0),document.addEventListener("touchend",s,!0),document.addEventListener("touchcancel",s,!0),this.each(function(){var e=l(this),s=e.find(".pv-inner").width(),n=e.find(".pv-inner").height(),t=l(".pv-inner").css("background-position");l(window).width();cssX=parseInt(t.substring(0,t.indexOf(" "))),e.find(".pv-inner").css({"background-position-x":cssX+"px "});var o,i,a,r=e.find(".pv-inner"),c=(parseInt(r.parent().width()),parseInt(r.parent().height()),!1);function d(e){var s;s=l(window).width()<780?10:1,console.log("v="+s);var n={x:!1,y:!1},t={x:i.x-(o.x-e.clientX)/s,y:i.y-(o.y-e.clientY)/s};return n.x=!0,c&&n.x&&(i.x=t.x,i.y=0),a&&(i.x=a,a=!1),l(this).css("background-position-x",i.x+"px "),o.x=e.clientX,o.y=e.clientY,e.stopPropagation(),!1}i=cssX?(o={x:cssX,y:0},{x:cssX,y:0}):(o={x:0,y:0},{x:0,y:0}),l(".pv__zoom").on("click",function(){var e=l(".pv-inner").css("backgroundSize").substring(l(".pv-inner").css("backgroundSize").indexOf(" ")),s=l(".pv-inner").css("backgroundPositionX"),n=parseInt(e);a=parseInt(s);l(this).hasClass("pv__increase")&&n<320&&(n+=40,a+=.2*a),l(this).hasClass("pv__decrease")&&140<n&&(n-=40,a-=.2*a),l(".pv-inner").css({backgroundSize:"auto "+n+"%",backgroundPositionX:a+"px"})}),r.bind("mousedown mouseup mouseleave",function(e){return c=!1,r.unbind("mousemove",d),"mousedown"==e.type?(o.x=e.clientX,o.y=e.clientY,c=!0,r.bind("mousemove",d)):l(document.body).focus(),e.stopPropagation(),!1})})}}(window.jQuery);